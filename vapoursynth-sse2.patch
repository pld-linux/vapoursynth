--- vapoursynth-R48/Makefile.am.orig	2019-10-25 08:16:07.000000000 +0200
+++ vapoursynth-R48/Makefile.am	2020-03-14 14:04:19.049683857 +0100
@@ -29,7 +29,7 @@
 
 
 if VSCORE
-noinst_LTLIBRARIES = libexprfilter.la libvapoursynth_avx2.la
+noinst_LTLIBRARIES = libexprfilter.la libvapoursynth_avx2.la libvapoursynth_sse2.la
 
 libexprfilter_la_SOURCES = src/core/exprfilter.cpp
 libexprfilter_la_CPPFLAGS = $(AM_CXXFLAGS) -fno-strict-aliasing
@@ -40,6 +40,15 @@
 libvapoursynth_avx2_la_CFLAGS = $(AM_CFLAGS) $(AVX2FLAGS)
 libvapoursynth_avx2_la_CXXFLAGS = $(AM_CXXFLAGS) $(AVX2FLAGS)
 
+libvapoursynth_sse2_la_SOURCES = \
+							src/core/kernel/x86/generic_sse2.cpp \
+							src/core/kernel/x86/merge_sse2.c \
+							src/core/kernel/x86/planestats_sse2.c \
+							src/core/kernel/x86/transpose_sse2.c
+
+libvapoursynth_sse2_la_CFLAGS = $(AM_CFLAGS) -msse2
+libvapoursynth_sse2_la_CXXFLAGS = $(AM_CFLAGS) -msse2
+
 lib_LTLIBRARIES += libvapoursynth.la
 
 libvapoursynth_la_SOURCES = src/core/boxblurfilter.cpp \
@@ -61,10 +70,6 @@
 							src/core/kernel/planestats.h \
 							src/core/kernel/transpose.c \
 							src/core/kernel/transpose.h \
-							src/core/kernel/x86/generic_sse2.cpp \
-							src/core/kernel/x86/merge_sse2.c \
-							src/core/kernel/x86/planestats_sse2.c \
-							src/core/kernel/x86/transpose_sse2.c \
 							src/core/lutfilters.cpp \
 							src/core/mergefilters.c \
 							src/core/reorderfilters.c \
@@ -91,7 +96,7 @@
 
 libvapoursynth_la_LDFLAGS = -no-undefined -avoid-version
 libvapoursynth_la_CPPFLAGS = $(ZIMG_CFLAGS) -DVS_PATH_PLUGINDIR='"$(PLUGINDIR)"'
-libvapoursynth_la_LIBADD = $(ZIMG_LIBS) $(DLOPENLIB) libexprfilter.la libvapoursynth_avx2.la
+libvapoursynth_la_LIBADD = $(ZIMG_LIBS) $(DLOPENLIB) libexprfilter.la libvapoursynth_avx2.la libvapoursynth_sse2.la
 
 
 if PYTHONMODULE
